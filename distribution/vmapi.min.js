VmAPI={},VmAPI.request=function(n){var r=n.data,t=n.call_back,i;VmFramework.ajax_server_error=0,i=VmFramework.api_base+"api.aspx",$.ajax({type:"POST",url:i,contentType:"application/json",charset:"utf-8",dataType:"json",error:function(n){n.status?alert(n.responseText):alert("Something went wrong")},data:JSON.stringify(r),success:function(n){if(VmFramework.ajax_server_error!=1)try{t!==undefined&&t(n)}catch(i){alert(i.toString())}},dataFilter:VmAPI.request_filter})},VmAPI.request_filter=function(n){var t=$.parseJSON(n);return t.Error!=undefined&&(alert("Server side error: "+t.Error),VmFramework.ajax_server_error=1,typeof VmFramework.submit_div!="undefined"&&VmFramework.submit_div!=""&&$("#D"+VmFramework.submit_div).triggerHandler("submit_failed")),n}